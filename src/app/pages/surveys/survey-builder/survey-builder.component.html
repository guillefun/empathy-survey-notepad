  <main>
    <section class="survey">
      <header class="survey__header">
        <h1 class="survey__title">Urban Mobility Trends and Preferences</h1>
        <p class="survey__subtitle">
          Share your travel experiences and help us design better transportation systems for everyone
        </p>
      </header>
      @for ( question of questions; track question; let questionIdx = $index) {
        <div class="survey__question__container">
          <empathy-question-form [question]="question"/>
        </div>
      }

      <div class="survey__add__row">
        <button class="survey__add__row__button"  (click)="showQuestionTypeSelect()">
          + Add question
        </button>
        @if(showAddQuestion) {
          <div class="overlay" #trigger></div>
          <ng-template
            cdkConnectedOverlay
            [cdkConnectedOverlayOrigin]="trigger"
            [cdkConnectedOverlayOpen]="showAddQuestion"
            (overlayOutsideClick)="closeAddQuestionOverlay()"
            (detach)="closeAddQuestionOverlay()"
            cdkConnectedOverlayPush="true"
          >
            <empathy-question-type-select
            (completed)="addQuestion($event)"
            />
          </ng-template>
        }
      </div>
    </section>
  </main>
